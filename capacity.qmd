---
title: "Alaska Generation Capacity"
subtitle: "Total Installed Capacity by Certified Utilities (MW)"
output:
  quarto::quarto_html:
    pre_processor: quarto::observable
---

<!-- ```{r, echo=FALSE, warning=FALSE, message=FALSE}
# # Import required packages
# library(tidyr)
# library(dplyr)
# library(readr)
# 
# # Load the capacity data
# capacity_data <- read.csv("data/installed-capacity-certified-utilities-mw.csv")
# 
# # Long-form statewide totals chart
# statewide_totals <- capacity_data %>%
#   group_by(year) %>%
#   summarize("Fossil Turbine" = sum(ff.turbines),
#             "Recip Engines" = sum(ff.ice),
#             "Hydro" = sum(hydro),
#             "Wind" = sum(wind),
#             "Utility Solar" = sum(solar),
#             "Rooftop Solar" = sum(solar.btm),
#             "Storage" = sum(storage),
#             "Landfill Gas" = sum(landfill)) %>%
#   pivot_longer(
#     cols = c("Fossil Turbine", "Recip Engines", "Hydro", "Wind", "Utility Solar", "Rooftop Solar", "Storage", "Landfill Gas"),
#     names_to = "Prime Mover",
#     values_to = "Capacity"
#   )
# 
# # Write the chart to a csv to import into observable
# write.csv(statewide_totals, file = "data/statewide-total-capacity-by-year.csv")

### `r round(sum(statewide_totals$Capacity[statewide_totals$year == 2021])/1000,2)`
### `r round(sum(statewide_totals$Capacity[statewide_totals$year == 2011])/1000,2)`
``` -->

## General Overview

Generation capacity represents the maximum amount of electricity that can be generated at any given time dependent on certain conditions. The combination of generation sources is often referred to as the capacity mix. Changes in the capacity mix over time reflect decisions to build and retire generators. These decisions are a result of shifting costs, technological innovations, the normal aging of the generation fleet, and/or stakeholder policies. Due to data limitations, we show capacity levels for calendar years 2011-2013, 2018, and 2021. While we cannot observe year-to-year trends, there are enough years of data to visualize capacity trends from 2011 to 2021.

We begin this section by showcasing the increases in total capacity across the state. In 2011, it is estimated that the total statewide electricity generation capacity was 2.20 GW. We estimate that this has increased to approximately 3.16 GW in 2021 based on best available data. To illustrate this example, we show a stacked area chart below that showcases growth over time for various technologies.[^1]

[^1]: Prime movers are categorized as follows. Fossil turbines include combined cycle turbines, gas turbines, and steam turbines. Reciprocating engines include internal combustion engines. Hydro includes hydraulic turbines and hydrokinetics. Wind includes wind turbines. Utility solar includes utility-owned photovoltaic (PV), and Rooftop solar includes customer-sited, behind-the-meter PV. Storage refers to batteries and flywheels.

```{ojs}
//| echo: false
data = FileAttachment("data/statewide-total-capacity-by-year.csv").csv({ typed: true })

Plot.plot({
  // Configure the x-axis
  x: {
    type: "band",
    label: "Year"
  },
  // Configure the y-axis
  y: {
    grid: true,
    label: "Capacity (MW)"
  },
  // Configure the plot
  title: "Total Electric Generation Capacity in Alaska",
  insetLeft: 0,
  insetRight: 0,
  color: {
    legend: true,
  },
  // Stacked area plot
  marks: [
    Plot.areaY(data, {x:"year",y:"Capacity", fill: "Prime Mover", tip: "x"}),
    Plot.ruleY([0])
  ]
})
```

## Coastal


## Railbelt

Put Railbelt text here.

## Rural Remote

Put Rural Remote text here.
