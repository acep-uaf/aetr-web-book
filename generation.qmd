---
title: "Alaska Electricity Generation"
subtitle: "Generation by Fuel Type, 2011-2021"
date-modified: "2024-03-13T15:39:00-08:00"
date-format: "MMM D, YYYY [at] HH:mm z"
---

```{r, echo=FALSE,warning=FALSE,message=FALSE}
# Import required packages
library(tidyr)
library(dplyr)
library(readr)

# Import the data
gen_data <- read.csv(file = "data/working/generation/net_generation_long.csv")

# Regional totals
reg_tot_gen <- gen_data %>%
  group_by(acep_region, year) %>%
  summarize(
    "total_gen" = sum(generation, na.rm = TRUE)
  ) %>%
  mutate(
    total_gen = total_gen / 1000
  )

# CAGR Function
cagr <- function(x) {
  # x should be the region in question as a string
  # E.g.,
  #   cagr("Railbelt") produces -0.31
  #
  r = ((reg_tot_gen$total_gen[reg_tot_gen$acep_region == x & reg_tot_gen$year == 2021] / reg_tot_gen$total_gen[reg_tot_gen$acep_region == x & reg_tot_gen$year == 2011])^(1/10) -1)*100
  round(r,2)
}

```

## General Overview

This section outlines the trends in generation by fuel type for each region. Generation in our context has two separate definitions. Data collected through the Energy Information Administration (EIA) records “net” generation, which excludes electricity use for power plant operations. However, data collected from the Alaska Energy Authority’s (AEA) Power Cost Equalization (PCE) program is presented as “gross” generation, which does not make this exclusion.[^1]

[^1]: The PCE data do show powerhouse consumption as a separate data item, which would allow for the computation of “net generation” in PCE communities. However, we have continued to report generation in PCE communities as the gross amount in order to be consistent with previous Alaska Energy Statistics Reports.

The following figure provides a visual representation of yearly electricity generation for the Coastal, Railbelt, and Rural Remote regions. All regions produced a relatively consistent amount of electricity between 2011 and 2021. Across this time period, the Railbelt generated an average of `r round(mean(reg_tot_gen$total_gen[reg_tot_gen$acep_region == "Railbelt"], na.rm = TRUE))` GWh, the Coastal region generated an average of `r round(mean(reg_tot_gen$total_gen[reg_tot_gen$acep_region == "Coastal"], na.rm = TRUE))` GWh, and the Rural Remote region generated an average of `r round(mean(reg_tot_gen$total_gen[reg_tot_gen$acep_region == "Rural Remote"], na.rm = TRUE))` GWh. Between 2011 and 2021, the average yearly growth rate for generation was `r cagr("Coastal")`% in the Coastal region, `r cagr("Railbelt")`% in the Railbelt region, and `r cagr("Rural Remote")`% in Rural Remote communities.[^2] The Coastal and Rural Remote trends are in line with improvements in rural electrification, as well as modest population growth. Of the regions, the Railbelt is the only one that consistently saw decreases in generation across the years. Total statewide generation increased at an average annual growth rate of 0.22%.

[^2]: Calculated with the compound average growth rate: $CAGR = \left(\left(\frac{gen_{2021}}{gen_{2011}} \right)^{\frac{1}{2021-2011}} -1\right)$

```{ojs}
//| echo: false
import {tidy, groupBy, rename, summarize, sum, mutate, select, n, nDistinct, mean, filter, pivotWider, pivotLonger, leftJoin, slice, fullJoin, lag, TMath, rowNumber,mutateWithSummary} from "@pbeshai/tidyjs"

// Import the long-form generation data
gen_data = FileAttachment("data/working/generation/net_generation_long.csv").csv({ typed: true })

// Convert MWh to GWh
gen_data_gwh = tidy(gen_data, mutate({
  generation: (d) => d.generation / 1000
}));

// Plotting total generation by region and year
Plot.plot({
  
  // Configure the plot
  title: " Electricity generation by region",
  insetLeft: 0,
  insetRight: 0,
  
  // Configure the x-axis
  x: {
    tickFormat: "d",
    label: "Year"
  },
  
  // Configure the y-axis
  y: {
    grid: true,
    label: "Generation (GWh)"
  },
  
  // Plotting the series
  marks: [
    Plot.barY(
      gen_data_gwh,
      Plot.groupX(
        {
          y: "sum"
        },
        {
          x: "year",
          y: "generation",
          fill: "acep_region",
          tip: {format: {x: "d"}}
        }
      )
    ),
    Plot.ruleY([0])
  ],
  
  // Legend
  color: {
    domain: ["Coastal","Railbelt","Rural Remote"],
    range: ["#8cbbda","#97cd93","#f28d8c"],
    legend: true
  }
})
```

While generation did not change significantly during the observed time period, the resources from which generation occurred, did. The following figure shows how the mix of generation fuels changed between 2011 and 2021.[^3]

[^3]: Oil consists of generators whose primary fuel source is diesel/distillate, naphtha, or jet fuel. Gas consists of natural or landfill gas. Hydro refers to conventional hydroelectric turbines. Wind and solar are both utility-scale (excluding behind-the-meter solar). Storage is not included in these calculations.

```{ojs}
//| echo: false

// Establish the figure caption for generation mix charts
caption_gen_mix = "Note: Storage is not included here due since net generation is negative."

// Creating a modified version of the data
share_data = tidy(
  gen_data,
  groupBy(
    ['year','acep_region','fuel_type'], 
    [
      summarize({
        generation: sum('generation')
      })
    ]
  )
)

// Creating total generation data from each region and year
total_gen = tidy(share_data, groupBy(['year','acep_region'], summarize({total_generation: sum('generation')})))


// Creating a joined table from the above two
join = tidy(share_data, fullJoin(total_gen, {by: ['year','acep_region']}))

// Creating a column with shares
join_shares = tidy(join.filter((d) => d.fuel_type !== "Storage"),
  mutate({generation_share: (d) => (d.generation / d.total_generation)*100})
) // join_shares should be used for the 100% area charts

// Table for just the 2011 and 2021 generation mix comparison
gen_mix_diff = tidy(
  join_shares.filter((d) => d.year === 2011 || d.year === 2021),
  groupBy(
    ['acep_region','fuel_type'],
    mutateWithSummary({
        generation_share_2011: lag('generation_share', {default: 0})
    })
  ),
  mutate({
    delta: (d) => d.generation_share - d.generation_share_2011
  }),
  filter(
    (d)  => d.year === 2021
  )
)

// Plotting the deltas
Plot.plot({
  title: "Regional changes in net generation",
  subtitle: "Percentage point differences in generation mix between 2021 and 2011",
  insetLeft: 15,
  insetRight: 15,
  marginRight: 70,
  height: 600,
  width: 800,

  x: {
    label: "Percentage Point Change",
    labelAnchor: "center"
  },

  y: {
    grid: true,
    domain: ["Coal","Oil","Gas","Hydro","Wind","Solar"],
    label: ""
  },

  facet: {
    data: gen_mix_diff,
    y: (d) => d.acep_region
  },

  marks: [
    Plot.frame(),
    Plot.barX(gen_mix_diff, {
        x: "delta",
        y: "fuel_type",
        fill: "fuel_type",
        order: ["Coal","Oil","Gas","Hydro","Wind","Solar"],
        tip: {
          format: {
            x: (d) => `${(d).toLocaleString(undefined, {maximumFractionDigits: 2})}%`,
            y: false
          }
        }
      }
    ),
    Plot.ruleX([0])
  ],

  color: {
    domain: ["Coal","Oil","Gas","Hydro","Wind","Solar"],
    range: ["#7f7f7f","#BFBFBF","#DCD9C5","#96B3DF","#F79646","#F5C243"],
    legend: true
  }
})
```

We show that for these resources, the Coastal region displaced oil generation with hydro and wind generation. The Railbelt displaced gas and oil generation with coal, hydro, and solar generation. Finally, the Rural Remote region of the state displaced coal and a small amount of hydro with gas, solar, and wind generation.

This figure does not include trends in storage or the other category. Storage net generation is always negative due to the efficiency of current battery systems where more energy is sent to storage than can be recovered. The “other” category was not included in this figure as net generation was zero in 2011 and 2021 (but not throughout the series, which we show in the subsequent sections).

```{r, echo=FALSE,warning=FALSE,message=FALSE}
# Develop the R object for the following regional sections
reg_gen_mix <- gen_data %>%
  group_by(acep_region, year, fuel_type) %>%
  summarize(generation = sum(generation, na.rm=TRUE)) %>%
  filter(fuel_type != "Storage") %>%
  group_by(acep_region, year) %>%
  mutate(total_generation = sum(generation,na.rm=TRUE)) %>%
  group_by(acep_region,year,fuel_type) %>%
  mutate(gen_share = (generation / total_generation)*100)

# Function declaration
# Share of generation for a fuel type in a given year for a specific acep region
#   share_extract(year, "fuel_type", "acep_region")
# E.g.,
#   share_extract(2021, "Hydro", "Coastal") returns 91.74
share_extract <- function(year, fuel, region, round_digits=0) {
  r = reg_gen_mix$gen_share[reg_gen_mix$year == year & reg_gen_mix$fuel_type == fuel & reg_gen_mix$acep_region == region]
  round(r, round_digits)
}
```

## Coastal

In 2011, the Coastal region generated `r share_extract(2011, "Hydro", "Coastal")`% of its electricity from hydro, `r share_extract(2011, "Oil", "Coastal")`% from oil, and the remainder from wind.[^4] In 2021, the region generated `r share_extract(2021, "Hydro", "Coastal")`% of electricity from hydro, `r share_extract(2021, "Oil", "Coastal")`% from oil, and `r share_extract(2021, "Wind", "Coastal")`% from wind. In addition, storage played a role in generation, albeit the net result is negative due to efficiencies. The following figure shows how this generation mix has changed over the years.

[^4]: Net generation from storage facilities are not included in these calculations.

```{ojs}
//| echo: false

// Plotting the shares for the coastal region
Plot.plot({

  // Configure the plot
  title: "Share of net generation by fuel type, Coastal region",
  caption: caption_gen_mix,
  insetLeft: 0,
  insetRight: 0,
  
  // Configure the x-axis
  x: {
    tickFormat: "d",
    label: "Year"
  },
  
  // Configure the y-axis
  y: {
    grid: true,
    label: "Share of electricity generation"
  },
  
  marks: [
    Plot.areaY(
      join_shares.filter((d) => d.acep_region === "Coastal"),
      {
        x:"year",
        y:"generation_share", 
        fill: "fuel_type",
        order: ["Oil","Hydro","Wind"],
        tip: {format: {x: "d", y: (d) => `${(d).toLocaleString(undefined, {maximumFractionDigits: 2})}%`}}
      }
    ),
    Plot.ruleY([0])
  ],
  
  // Legend
  color: {
    domain: ["Oil","Hydro","Wind"],
    range: ["#BFBFBF","#96B3DF","#F79646"],
    legend: true
}
})
```

Generation grew at an average annual growth rate of `r cagr("Coastal")`% from 2011 to 2021. The following figure highlights the yearly trends in generation by fuel source.

```{ojs}
//| echo: false


// Plotting total generation by region and year
Plot.plot({
  
  // Configure the plot
  title: "Coastal region electricity generation",
  insetLeft: 0,
  insetRight: 0,
  
  // Configure the x-axis
  x: {
    tickFormat: "d",
    label: "Year"
  },
  
  // Configure the y-axis
  y: {
    grid: true,
    label: "Generation (GWh)"
  },
  
  // Plotting the series
  marks: [
    Plot.barY(
      gen_data_gwh.filter(d => d.acep_region === "Coastal" && d.generation !== null),
      Plot.groupX(
        {
          y: "sum"
        },
        {
          x: "year",
          y: "generation",
          fill: "fuel_type",
          order: ["Oil","Hydro","Wind"],
          tip: {format: {x: "d"}}
        }
      )
    ),
    Plot.ruleY([0])
  ],
  
  // Legend
  color: {
    domain: ["Oil","Hydro","Wind"],
    range: ["#BFBFBF","#96B3DF","#F79646"],
    legend: true
  }
})
```

## Railbelt

Railbelt generation has seen notable changes in how it generates electricity between 2011 and 2021. In 2011, the Railbelt region generated `r share_extract(2011, "Gas", "Railbelt")`% of electricity from gas, `r share_extract(2011, "Coal", "Railbelt")`% from coal, `r share_extract(2011, "Hydro", "Railbelt")`% from hydro, and `r share_extract(2011, "Oil", "Railbelt")`% from oil. Additionally, a small amount of wind generation was present. In 2021, the region generated `r share_extract(2021, "Gas", "Railbelt")`% of electricity from gas, `r share_extract(2021, "Coal", "Railbelt")`% from coal, `r share_extract(2021, "Hydro", "Railbelt")`% from hydro, `r share_extract(2021, "Oil", "Railbelt")`% from oil, and `r share_extract(2021, "Wind", "Railbelt")`% from wind. Additionally, a small amount of solar generation was present. In addition, storage played a role in generation, albeit the net result is negative due to non-perfect efficiencies. The following figure shows how this generation mix has changed over the years. 

```{ojs}
//| echo: false
// Plotting the shares for the coastal region
Plot.plot({

  // Configure the plot
  title: "Share of net generation by fuel type, Railbelt region",
  caption: caption_gen_mix,
  insetLeft: 0,
  insetRight: 0,
  
  // Configure the x-axis
  x: {
    tickFormat: "d",
    label: "Year"
  },
  
  // Configure the y-axis
  y: {
    grid: true,
    label: "Share of electricity generation"
  },
  
  marks: [
    Plot.areaY(
      join_shares.filter((d) => d.acep_region === "Railbelt"),
      {
        x:"year",
        y:"generation_share", 
        fill: "fuel_type",
        order: ["Coal","Oil","Gas","Hydro","Wind","Solar"],
        tip: {format: {x: "d", y: (d) => `${(d).toLocaleString(undefined, {maximumFractionDigits: 2})}%`}}
      }
    ),
    Plot.ruleY([0])
  ],
  
  // Legend
  color: {
    domain: ["Coal","Oil","Gas","Hydro","Wind","Solar"],
    range: ["#7f7f7f","#BFBFBF","#DCD9C5","#96B3DF","#F79646","#F5C243"],
    legend: true
  },
})
```


Generation from 2011 to 2021 saw an average annual growth rate of `r cagr("Railbelt")`%. The following figure highlights the yearly trends in generation by fuel source.

```{ojs}
//| echo: false

// Plotting total generation by region and year
Plot.plot({
  
  // Configure the plot
  title: "Railbelt region electricity generation",
  insetLeft: 0,
  insetRight: 0,
  
  // Configure the x-axis
  x: {
    tickFormat: "d",
    label: "Year"
  },
  
  // Configure the y-axis
  y: {
    grid: true,
    label: "Generation (GWh)"
  },
  
  // Plotting the series
  marks: [
    Plot.barY(
      gen_data_gwh.filter(d => d.acep_region === "Railbelt"),
      Plot.groupX(
        {
          y: "sum"
        },
        {
          x: "year",
          y: "generation",
          fill: "fuel_type",
          order: ["Coal","Oil","Gas","Hydro","Wind","Solar"],
          tip: {format: {x: "d"}}
        }
      )
    ),
    Plot.ruleY([0])
  ],
  
  // Legend
  color: {
    domain: ["Coal","Oil","Gas","Hydro","Wind","Solar"],
    range: ["#7f7f7f","#BFBFBF","#DCD9C5","#96B3DF","#F79646","#F5C243"],
    legend: true
  }
})
```

## Rural Remote

The Rural Remote region has seen notable changes between 2011 and 2021 in how it generates electricity. In 2011, the region generated `r share_extract(2011, "Oil", "Rural Remote")`% of electricity from oil, `r share_extract(2011, "Gas", "Rural Remote")`% from gas, `r share_extract(2011, "Hydro", "Rural Remote")`% from hydro, and `r share_extract(2011, "Wind", "Rural Remote")`% from wind. In 2021, the region generated `r share_extract(2021, "Oil", "Rural Remote")`% of electricity from oil (mostly diesel), `r share_extract(2021, "Gas", "Rural Remote")`% from gas, `r share_extract(2021, "Hydro", "Rural Remote")`% from hydro, and `r share_extract(2021, "Wind", "Rural Remote")`% from wind. Additionally, a small amount of solar generation was present. The following figure shows how this generation mix has changed over the years.

```{ojs}
//| echo: false
// Plotting the shares for the coastal region
Plot.plot({

  // Configure the plot
  title: "Share of net generation by fuel type, Rural Remote region",
  caption: caption_gen_mix,
  insetLeft: 0,
  insetRight: 0,
  
  // Configure the x-axis
  x: {
    tickFormat: "d",
    label: "Year"
  },
  
  // Configure the y-axis
  y: {
    grid: true,
    label: "Share of electricity generation"
  },
  
  marks: [
    Plot.areaY(
      join_shares.filter((d) => d.acep_region === "Rural Remote"),
      {
        x:"year",
        y:"generation_share", 
        fill: "fuel_type",
        order: ["Oil","Gas","Hydro","Wind","Solar","Other"],
        tip: {format: {x: "d", y: (d) => `${(d).toLocaleString(undefined, {maximumFractionDigits: 2})}%`}}
      }
    ),
    Plot.ruleY([0])
  ],
  
  // Legend
  color: {
    domain: ["Oil","Gas","Hydro","Wind","Solar","Other"],
    range: ["#BFBFBF","#DCD9C5","#96B3DF","#F79646","#F5C243","#C0504D"],
    legend: true
}
})
```

Generation from 2011 to 2021 saw an average annual growth rate of `r cagr("Rural Remote")`%. The following figure highlights the yearly trends in generation by fuel source. From 2013 to 2014, a large increase in gas generation is observed due to operations on the North Slope - specifically in the Barrow Utilities & Electric Cooperative, Inc. (BUECI), Deadhorse, and Nuiqsut service regions.

```{ojs}
//| echo: false

// Plotting total generation by region and year
Plot.plot({
  
  // Configure the plot
  title: "Rural remote region electricity generation",
  insetLeft: 0,
  insetRight: 0,
  
  // Configure the x-axis
  x: {
    tickFormat: "d",
    label: "Year"
  },
  
  // Configure the y-axis
  y: {
    grid: true,
    label: "Generation (GWh)"
  },
  
  // Plotting the series
  marks: [
    Plot.barY(
      gen_data_gwh.filter(d => d.acep_region === "Rural Remote"),
      Plot.groupX(
        {
          y: "sum"
        },
        {
          x: "year",
          y: "generation",
          fill: "fuel_type",
          order: ["Oil","Gas","Hydro","Wind","Solar","Other"],
          tip: {format: {x: "d"}}
        }
      )
    ),
    Plot.ruleY([0])
  ],
  
  // Legend
  color: {
    domain: ["Oil","Gas","Hydro","Wind","Solar","Other"],
    range: ["#BFBFBF","#DCD9C5","#96B3DF","#F79646","#F5C243","#C0504D"],
    legend: true
  }
})
```
